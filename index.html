<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nota Pendidikan Islam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gold: '#FFD700',
                        'gold-dark': '#B8860B',
                        'gold-light': '#FFF8DC'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            box-sizing: border-box;
        }
        .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .embed-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }
        .embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gold-light to-white min-h-screen">
    <!-- Sidebar -->
    <div id="sidebar" class="fixed inset-y-0 left-0 z-50 w-64 bg-gradient-to-b from-gold to-gold-dark transform -translate-x-full lg:translate-x-0 sidebar-transition shadow-2xl">
        <div class="flex items-center justify-between h-16 px-6 bg-gold-dark">
            <h1 class="text-white font-bold text-lg">Nota PI</h1>
            <button id="closeSidebar" class="lg:hidden text-white hover:text-yellow-200">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        <nav class="mt-8">
            <a href="#" onclick="showPage('home')" class="nav-link flex items-center px-6 py-3 text-white hover:bg-gold-dark transition-colors">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                </svg>
                Halaman Utama
            </a>
            <a href="#" onclick="showPage('t1')" class="nav-link flex items-center px-6 py-3 text-white hover:bg-gold-dark transition-colors">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                Nota T1
            </a>
            <a href="#" onclick="showPage('t2')" class="nav-link flex items-center px-6 py-3 text-white hover:bg-gold-dark transition-colors">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                Nota T2
            </a>
            <a href="#" onclick="showPage('t3')" class="nav-link flex items-center px-6 py-3 text-white hover:bg-gold-dark transition-colors">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                </svg>
                Nota T3
            </a>
            <a href="#" onclick="showPage('about')" class="nav-link flex items-center px-6 py-3 text-white hover:bg-gold-dark transition-colors">
                <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Tentang Kami
            </a>
            <div class="border-t border-gold-dark mt-4 pt-4">
                <a href="#" onclick="showPage('login')" id="loginBtn" class="nav-link flex items-center px-6 py-3 text-white hover:bg-gold-dark transition-colors">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"></path>
                    </svg>
                    Login / Register
                </a>
                <a href="#" onclick="logout()" id="logoutBtn" class="nav-link hidden flex items-center px-6 py-3 text-white hover:bg-red-600 transition-colors">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                    </svg>
                    Logout
                </a>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="lg:ml-64">
        <!-- Header -->
        <header class="bg-white shadow-lg border-b-4 border-gold">
            <div class="flex items-center justify-between h-16 px-6">
                <button id="openSidebar" class="lg:hidden text-gold hover:text-gold-dark">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
                <h2 id="pageTitle" class="text-xl font-bold text-gray-800">Halaman Utama</h2>
                <div id="userInfo" class="hidden text-sm text-gray-600">
                    Selamat datang, <span id="currentUser" class="font-semibold text-gold"></span>
                </div>
            </div>
        </header>

        <!-- Page Content -->
        <main class="p-6">
            <!-- Home Page -->
            <div id="homePage" class="page-content fade-in">
                <div id="guestWarning" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-r-lg">
                    <div class="flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <p><strong>Peringatan:</strong> Sila login atau register untuk mengakses semua ciri-ciri website ini.</p>
                    </div>
                </div>

                <div class="text-center mb-12">
                    <h1 class="text-4xl md:text-6xl font-bold text-gold mb-4">Nota Pendidikan Islam</h1>
                    <p class="text-xl text-gray-700 mb-8">Platform pembelajaran terbaik untuk Pendidikan Islam Tingkatan 1, 2 dan 3</p>
                    <div class="bg-white rounded-lg shadow-xl p-8 max-w-4xl mx-auto">
                        <h2 class="text-2xl font-bold text-gray-800 mb-6">Selamat Datang ke Portal Pembelajaran</h2>
                        <p class="text-gray-600 mb-6">Website ini menyediakan nota-nota lengkap, kuiz interaktif, dan sistem ranking untuk membantu pelajar menguasai mata pelajaran Pendidikan Islam dengan lebih berkesan.</p>
                        
                        <div class="grid md:grid-cols-3 gap-6 mt-8">
                            <div class="bg-gradient-to-br from-gold to-gold-dark text-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow cursor-pointer" onclick="showPage('t1')">
                                <div class="text-center">
                                    <div class="text-4xl font-bold mb-2">T1</div>
                                    <h3 class="text-xl font-semibold mb-2">Tingkatan 1</h3>
                                    <p class="text-sm opacity-90">Nota dan kuiz untuk pelajar Tingkatan 1</p>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-br from-red-500 to-red-600 text-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow cursor-pointer" onclick="showPage('t2')">
                                <div class="text-center">
                                    <div class="text-4xl font-bold mb-2">T2</div>
                                    <h3 class="text-xl font-semibold mb-2">Tingkatan 2</h3>
                                    <p class="text-sm opacity-90">Nota dan kuiz untuk pelajar Tingkatan 2</p>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-br from-yellow-500 to-yellow-600 text-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow cursor-pointer" onclick="showPage('t3')">
                                <div class="text-center">
                                    <div class="text-4xl font-bold mb-2">T3</div>
                                    <h3 class="text-xl font-semibold mb-2">Tingkatan 3</h3>
                                    <p class="text-sm opacity-90">Nota dan kuiz untuk pelajar Tingkatan 3</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Login/Register Page -->
            <div id="loginPage" class="page-content hidden">
                <div class="max-w-md mx-auto bg-white rounded-lg shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-gold to-gold-dark p-6 text-center">
                        <h2 class="text-2xl font-bold text-white">Selamat Datang</h2>
                    </div>
                    
                    <!-- Login Form -->
                    <div id="loginForm" class="p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Login</h3>
                        <form onsubmit="handleLogin(event)">
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Username</label>
                                <input type="text" id="loginUsername" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold" required>
                            </div>
                            <div class="mb-6">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                                <div class="relative">
                                    <input type="password" id="loginPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold pr-10" required>
                                    <button type="button" onclick="togglePassword('loginPassword')" class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <button type="submit" class="w-full bg-gold hover:bg-gold-dark text-white font-bold py-2 px-4 rounded-lg transition-colors">
                                Login
                            </button>
                        </form>
                        <p class="text-center mt-4 text-gray-600">
                            Belum ada akaun? 
                            <button onclick="showRegisterForm()" class="text-gold hover:text-gold-dark font-semibold">Register di sini</button>
                        </p>
                    </div>

                    <!-- Register Form -->
                    <div id="registerForm" class="p-6 hidden">
                        <h3 class="text-xl font-semibold text-gray-800 mb-4">Register</h3>
                        <form onsubmit="handleRegister(event)">
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Username</label>
                                <input type="text" id="regUsername" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold" required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                                <input type="email" id="regEmail" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold" required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Sekolah</label>
                                <input type="text" id="regSekolah" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold" required>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Tingkatan</label>
                                <select id="regTingkatan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold" required>
                                    <option value="">Pilih Tingkatan</option>
                                    <option value="1">Tingkatan 1</option>
                                    <option value="2">Tingkatan 2</option>
                                    <option value="3">Tingkatan 3</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                                <div class="relative">
                                    <input type="password" id="regPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold pr-10" required>
                                    <button type="button" onclick="togglePassword('regPassword')" class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="mb-6">
                                <label class="block text-gray-700 text-sm font-bold mb-2">Confirm Password</label>
                                <div class="relative">
                                    <input type="password" id="regConfirmPassword" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-gold pr-10" required>
                                    <button type="button" onclick="togglePassword('regConfirmPassword')" class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <button type="submit" class="w-full bg-gold hover:bg-gold-dark text-white font-bold py-2 px-4 rounded-lg transition-colors">
                                Register
                            </button>
                        </form>
                        <p class="text-center mt-4 text-gray-600">
                            Sudah ada akaun? 
                            <button onclick="showLoginForm()" class="text-gold hover:text-gold-dark font-semibold">Login di sini</button>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Nota Pages (T1, T2, T3) -->
            <div id="t1Page" class="page-content hidden">
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <h2 class="text-3xl font-bold text-gold mb-6">Nota Pendidikan Islam Tingkatan 1</h2>
                    
                    <!-- Tabs -->
                    <div class="border-b border-gray-200 mb-6">
                        <nav class="-mb-px flex space-x-8">
                            <button onclick="showTab('t1', 'nota')" class="tab-btn active py-2 px-1 border-b-2 border-gold text-gold font-medium text-sm">
                                Nota
                            </button>
                            <button onclick="showTab('t1', 'kuiz')" class="tab-btn py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                                Kuiz
                            </button>
                            <button onclick="showTab('t1', 'leaderboard')" class="tab-btn py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                                Leaderboard
                            </button>
                        </nav>
                    </div>

                    <!-- Tab Content -->
                    <div id="t1-nota" class="tab-content">
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-green-700">al-Quran</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="openEmbed('Mukmin Yang Bertakwa', 'https://drive.google.com/file/d/sample1')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">1. Mukmin Yang Bertakwa</button>
                                    <button onclick="openEmbed('Memohon Kebahagiaan Hakiki', 'https://drive.google.com/file/d/sample2')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">2. Memohon Kebahagiaan Hakiki</button>
                                    <button onclick="openEmbed('Maha Suci Allah SWT', 'https://drive.google.com/file/d/sample3')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">3. Maha Suci Allah SWT</button>
                                    <button onclick="openEmbed('Allah SWT Penguasa Mutlak', 'https://drive.google.com/file/d/sample4')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">4. Allah SWT Penguasa Mutlak</button>
                                    <button onclick="openEmbed('Indahnya Tajwid', 'https://drive.google.com/file/d/sample5')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">5. Indahnya Tajwid</button>
                                    <button onclick="openEmbed('Segala Puji Bagi Allah SWT', 'https://drive.google.com/file/d/sample6')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">6. Segala Puji Bagi Allah SWT</button>
                                    <button onclick="openEmbed('Iblis & Syaitan Yang Durjana', 'https://drive.google.com/file/d/sample7')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">7. Iblis & Syaitan Yang Durjana</button>
                                    <button onclick="openEmbed('Sabar Menghadapi Dugaan Kehidupan', 'https://drive.google.com/file/d/sample8')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">8. Sabar Menghadapi Dugaan Kehidupan</button>
                                    <button onclick="openEmbed('Makanan Halal Lagi Baik', 'https://drive.google.com/file/d/sample9')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">9. Makanan Halal Lagi Baik</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-blue-700">Hadith</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Hadis Sumber Hukum', 'https://drive.google.com/file/d/sample10')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">10. Hadis Sumber Hukum</button>
                                    <button onclick="openEmbed('Ikhlas Dalam Kehidupan', 'https://drive.google.com/file/d/sample11')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">11. Ikhlas Dalam Kehidupan</button>
                                    <button onclick="openEmbed('Jihad Dalam Islam', 'https://drive.google.com/file/d/sample12')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">12. Jihad Dalam Islam</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-gold-light to-gold p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-gold-dark">Aqidah</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Islam Agama Fitrah', 'https://drive.google.com/file/d/sample13')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">13. Islam Agama Fitrah</button>
                                    <button onclick="openEmbed('Akidah Islam', 'https://drive.google.com/file/d/sample14')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">14. Akidah Islam</button>
                                    <button onclick="openEmbed('Beriman Kepada Allah SWT', 'https://drive.google.com/file/d/sample15')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">15. Beriman Kepada Allah SWT</button>
                                    <button onclick="openEmbed('al-Khaliq dan al-Musawwir', 'https://drive.google.com/file/d/sample16')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">16. al-Khaliq dan al-Musawwir</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-red-100 to-red-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-red-700">Ibadah</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="openEmbed('Konsep Ibadah dan Jenis Hukum', 'https://drive.google.com/file/d/sample17')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">17. Konsep Ibadah dan Jenis Hukum</button>
                                    <button onclick="openEmbed('Bersuci Asas Kebersihan', 'https://drive.google.com/file/d/sample18')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">18. Bersuci Asas Kebersihan</button>
                                    <button onclick="openEmbed('Suci Daripada Najis', 'https://drive.google.com/file/d/sample19')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">19. Suci Daripada Najis</button>
                                    <button onclick="openEmbed('Istinjak Suatu Tuntutan', 'https://drive.google.com/file/d/sample20')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">20. Istinjak Suatu Tuntutan</button>
                                    <button onclick="openEmbed('Wuduk & Syarat Kesempurnaan', 'https://drive.google.com/file/d/sample21')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">21. Wuduk & Syarat Kesempurnaan</button>
                                    <button onclick="openEmbed('Mandi Wajib Penyuci Diri', 'https://drive.google.com/file/d/sample22')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">22. Mandi Wajib Penyuci Diri</button>
                                    <button onclick="openEmbed('Solat Mercu Kejayaan', 'https://drive.google.com/file/d/sample23')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">23. Solat Mercu Kejayaan</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-purple-700">Sirah</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Riwayat Hidup Nabi Muhammad SAW', 'https://drive.google.com/file/d/sample24')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">24. Riwayat Hidup Nabi Muhammad SAW</button>
                                    <button onclick="openEmbed('Era Masyarakat Jahiliah', 'https://drive.google.com/file/d/sample25')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">25. Era Masyarakat Jahiliah</button>
                                    <button onclick="openEmbed('Keunggulan Perjuangan Khulafa ar-Rasyidin', 'https://drive.google.com/file/d/sample26')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">26. Keunggulan Perjuangan Khulafa ar-Rasyidin</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-yellow-700">Akhlak</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Akhlak Terpuji Hiasan Diri', 'https://drive.google.com/file/d/sample27')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">27. Akhlak Terpuji Hiasan Diri</button>
                                    <button onclick="openEmbed('Amanah Tunggak Kesejahteraan', 'https://drive.google.com/file/d/sample28')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">28. Amanah Tunggak Kesejahteraan</button>
                                    <button onclick="openEmbed('Ilmu Cahaya Kehidupan', 'https://drive.google.com/file/d/sample29')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">29. Ilmu Cahaya Kehidupan</button>
                                    <button onclick="openEmbed('Maruah Diri Cerminan Peribadi', 'https://drive.google.com/file/d/sample30')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">30. Maruah Diri Cerminan Peribadi</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="t1-kuiz" class="tab-content hidden">
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-green-700">al-Quran</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="startQuiz('t1', 'Mukmin Yang Bertakwa')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Mukmin Yang Bertakwa</button>
                                    <button onclick="startQuiz('t1', 'Memohon Kebahagiaan Hakiki')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Memohon Kebahagiaan Hakiki</button>
                                    <button onclick="startQuiz('t1', 'Maha Suci Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Maha Suci Allah SWT</button>
                                    <button onclick="startQuiz('t1', 'Allah SWT Penguasa Mutlak')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Allah SWT Penguasa Mutlak</button>
                                    <button onclick="startQuiz('t1', 'Indahnya Tajwid')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Indahnya Tajwid</button>
                                    <button onclick="startQuiz('t1', 'Segala Puji Bagi Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Segala Puji Bagi Allah SWT</button>
                                    <button onclick="startQuiz('t1', 'Iblis & Syaitan Yang Durjana')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Iblis & Syaitan Yang Durjana</button>
                                    <button onclick="startQuiz('t1', 'Sabar Menghadapi Dugaan Kehidupan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Sabar Menghadapi Dugaan Kehidupan</button>
                                    <button onclick="startQuiz('t1', 'Makanan Halal Lagi Baik')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Makanan Halal Lagi Baik</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-blue-700">Hadith</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t1', 'Hadis Sumber Hukum')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Hadis Sumber Hukum</button>
                                    <button onclick="startQuiz('t1', 'Ikhlas Dalam Kehidupan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Ikhlas Dalam Kehidupan</button>
                                    <button onclick="startQuiz('t1', 'Jihad Dalam Islam')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Jihad Dalam Islam</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-gold-light to-gold p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-gold-dark">Aqidah</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t1', 'Islam Agama Fitrah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Islam Agama Fitrah</button>
                                    <button onclick="startQuiz('t1', 'Akidah Islam')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Akidah Islam</button>
                                    <button onclick="startQuiz('t1', 'Beriman Kepada Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Beriman Kepada Allah SWT</button>
                                    <button onclick="startQuiz('t1', 'al-Khaliq dan al-Musawwir')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: al-Khaliq dan al-Musawwir</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-red-100 to-red-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-red-700">Ibadah</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="startQuiz('t1', 'Konsep Ibadah dan Jenis Hukum')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Konsep Ibadah dan Jenis Hukum</button>
                                    <button onclick="startQuiz('t1', 'Bersuci Asas Kebersihan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Bersuci Asas Kebersihan</button>
                                    <button onclick="startQuiz('t1', 'Suci Daripada Najis')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Suci Daripada Najis</button>
                                    <button onclick="startQuiz('t1', 'Istinjak Suatu Tuntutan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Istinjak Suatu Tuntutan</button>
                                    <button onclick="startQuiz('t1', 'Wuduk & Syarat Kesempurnaan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Wuduk & Syarat Kesempurnaan</button>
                                    <button onclick="startQuiz('t1', 'Mandi Wajib Penyuci Diri')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Mandi Wajib Penyuci Diri</button>
                                    <button onclick="startQuiz('t1', 'Solat Mercu Kejayaan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Solat Mercu Kejayaan</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-purple-700">Sirah</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t1', 'Riwayat Hidup Nabi Muhammad SAW')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Riwayat Hidup Nabi Muhammad SAW</button>
                                    <button onclick="startQuiz('t1', 'Era Masyarakat Jahiliah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Era Masyarakat Jahiliah</button>
                                    <button onclick="startQuiz('t1', 'Keunggulan Perjuangan Khulafa ar-Rasyidin')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Keunggulan Perjuangan Khulafa ar-Rasyidin</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-yellow-700">Akhlak</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t1', 'Akhlak Terpuji Hiasan Diri')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Akhlak Terpuji Hiasan Diri</button>
                                    <button onclick="startQuiz('t1', 'Amanah Tunggak Kesejahteraan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Amanah Tunggak Kesejahteraan</button>
                                    <button onclick="startQuiz('t1', 'Ilmu Cahaya Kehidupan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Ilmu Cahaya Kehidupan</button>
                                    <button onclick="startQuiz('t1', 'Maruah Diri Cerminan Peribadi')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Maruah Diri Cerminan Peribadi</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="t1-leaderboard" class="tab-content hidden">
                        <div class="bg-white rounded-lg shadow-md overflow-hidden">
                            <div class="bg-gradient-to-r from-gold to-gold-dark p-4">
                                <h3 class="text-xl font-bold text-white">Leaderboard Tingkatan 1</h3>
                            </div>
                            <div class="p-4">
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg border-l-4 border-gold">
                                        <div class="flex items-center">
                                            <span class="text-2xl mr-3">ðŸ¥‡</span>
                                            <div>
                                                <p class="font-semibold">Ahmad Bin Ali</p>
                                                <p class="text-sm text-gray-600">SMK Taman Desa</p>
                                            </div>
                                        </div>
                                        <span class="text-xl font-bold text-gold">950 mata</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg border-l-4 border-gray-400">
                                        <div class="flex items-center">
                                            <span class="text-2xl mr-3">ðŸ¥ˆ</span>
                                            <div>
                                                <p class="font-semibold">Siti Aminah</p>
                                                <p class="text-sm text-gray-600">SMK Bandar Utama</p>
                                            </div>
                                        </div>
                                        <span class="text-xl font-bold text-gray-600">920 mata</span>
                                    </div>
                                    <div class="flex items-center justify-between p-3 bg-orange-50 rounded-lg border-l-4 border-orange-400">
                                        <div class="flex items-center">
                                            <span class="text-2xl mr-3">ðŸ¥‰</span>
                                            <div>
                                                <p class="font-semibold">Muhammad Hafiz</p>
                                                <p class="text-sm text-gray-600">SMK Subang Jaya</p>
                                            </div>
                                        </div>
                                        <span class="text-xl font-bold text-orange-600">890 mata</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- T2 Page (Similar structure) -->
            <div id="t2Page" class="page-content hidden">
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <h2 class="text-3xl font-bold text-red-600 mb-6">Nota Pendidikan Islam Tingkatan 2</h2>
                    
                    <div class="border-b border-gray-200 mb-6">
                        <nav class="-mb-px flex space-x-8">
                            <button onclick="showTab('t2', 'nota')" class="tab-btn active py-2 px-1 border-b-2 border-red-600 text-red-600 font-medium text-sm">
                                Nota
                            </button>
                            <button onclick="showTab('t2', 'kuiz')" class="tab-btn py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                                Kuiz
                            </button>
                            <button onclick="showTab('t2', 'leaderboard')" class="tab-btn py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                                Leaderboard
                            </button>
                        </nav>
                    </div>

                    <div id="t2-nota" class="tab-content">
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-green-700">al-Quran</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="openEmbed('Allah SWT Pengurnia Hidayah', 'https://drive.google.com/file/d/sample1')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">1. Allah SWT Pengurnia Hidayah</button>
                                    <button onclick="openEmbed('Hanya Allah SWT Yang Maha Esa', 'https://drive.google.com/file/d/sample2')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">2. Hanya Allah SWT Yang Maha Esa</button>
                                    <button onclick="openEmbed('Luasnya Kuasa Allah SWT', 'https://drive.google.com/file/d/sample3')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">3. Luasnya Kuasa Allah SWT</button>
                                    <button onclick="openEmbed('Mudahnya Tajwid', 'https://drive.google.com/file/d/sample4')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">4. Mudahnya Tajwid</button>
                                    <button onclick="openEmbed('Manisnya Persaudaraan', 'https://drive.google.com/file/d/sample5')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">5. Manisnya Persaudaraan</button>
                                    <button onclick="openEmbed('Mengharap Keampunan Allah SWT', 'https://drive.google.com/file/d/sample6')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">6. Mengharap Keampunan Allah SWT</button>
                                    <button onclick="openEmbed('Kesantunan Dakwah Rasulullah SAW', 'https://drive.google.com/file/d/sample7')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">7. Kesantunan Dakwah Rasulullah SAW</button>
                                    <button onclick="openEmbed('Amanah Terhadap Harta Dan Nyawa', 'https://drive.google.com/file/d/sample8')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">8. Amanah Terhadap Harta Dan Nyawa</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-blue-700">Hadith</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Mungkar Dicegah Hidup Berkat', 'https://drive.google.com/file/d/sample9')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">9. Mungkar Dicegah Hidup Berkat</button>
                                    <button onclick="openEmbed('Mencari Yang Halal', 'https://drive.google.com/file/d/sample10')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">10. Mencari Yang Halal</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-gold-light to-gold p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-gold-dark">Aqidah</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Kekuatan Dan Kekuasaan Allah SWT', 'https://drive.google.com/file/d/sample11')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">11. Kekuatan Dan Kekuasaan Allah SWT</button>
                                    <button onclick="openEmbed('Ketaatan Malaikat', 'https://drive.google.com/file/d/sample12')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">12. Ketaatan Malaikat</button>
                                    <button onclick="openEmbed('Panduan Daripada Allah SWT', 'https://drive.google.com/file/d/sample13')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">13. Panduan Daripada Allah SWT</button>
                                    <button onclick="openEmbed('Solat Berjemaah Pengikat Hati', 'https://drive.google.com/file/d/sample14')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">14. Solat Berjemaah Pengikat Hati</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-red-100 to-red-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-red-700">Ibadah</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Solat Jumaat Wadah Kesatuan', 'https://drive.google.com/file/d/sample15')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">15. Solat Jumaat Wadah Kesatuan</button>
                                    <button onclick="openEmbed('Tayamum Dengan Debu Suci', 'https://drive.google.com/file/d/sample16')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">16. Tayamum Dengan Debu Suci</button>
                                    <button onclick="openEmbed('Rukhsah Anugerah Allah SWT', 'https://drive.google.com/file/d/sample17')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">17. Rukhsah Anugerah Allah SWT</button>
                                    <button onclick="openEmbed('Puasa Benteng Diri', 'https://drive.google.com/file/d/sample18')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">18. Puasa Benteng Diri</button>
                                    <button onclick="openEmbed('Solat Sunat Menampung Kefarduan', 'https://drive.google.com/file/d/sample19')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">19. Solat Sunat Menampung Kefarduan</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-purple-700">Sirah</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Terbitnya Fajar Dakwah', 'https://drive.google.com/file/d/sample20')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">20. Terbitnya Fajar Dakwah</button>
                                    <button onclick="openEmbed('Hijrah Detik Bersejarah', 'https://drive.google.com/file/d/sample21')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">21. Hijrah Detik Bersejarah</button>
                                    <button onclick="openEmbed('Kepimpinan Rasulullah SAW Di Madinah', 'https://drive.google.com/file/d/sample22')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">22. Kepimpinan Rasulullah SAW Di Madinah</button>
                                    <button onclick="openEmbed('Wanita Suri Teladan Umat', 'https://drive.google.com/file/d/sample23')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">23. Wanita Suri Teladan Umat</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-yellow-700">Akhlak</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Malu Perisai Iman', 'https://drive.google.com/file/d/sample24')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">24. Malu Perisai Iman</button>
                                    <button onclick="openEmbed('Menyemai Kasih Menuai Sayang', 'https://drive.google.com/file/d/sample25')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">25. Menyemai Kasih Menuai Sayang</button>
                                    <button onclick="openEmbed('Muliakan Ibu Bapa Bahagiakan Keluarga', 'https://drive.google.com/file/d/sample26')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">26. Muliakan Ibu Bapa Bahagiakan Keluarga</button>
                                    <button onclick="openEmbed('Santuni Jiranmu', 'https://drive.google.com/file/d/sample27')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">27. Santuni Jiranmu</button>
                                    <button onclick="openEmbed('Masjid Destinasiku', 'https://drive.google.com/file/d/sample28')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">28. Masjid Destinasiku</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="t2-kuiz" class="tab-content hidden">
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-green-700">al-Quran</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="startQuiz('t2', 'Allah SWT Pengurnia Hidayah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Allah SWT Pengurnia Hidayah</button>
                                    <button onclick="startQuiz('t2', 'Hanya Allah SWT Yang Maha Esa')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Hanya Allah SWT Yang Maha Esa</button>
                                    <button onclick="startQuiz('t2', 'Luasnya Kuasa Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Luasnya Kuasa Allah SWT</button>
                                    <button onclick="startQuiz('t2', 'Mudahnya Tajwid')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Mudahnya Tajwid</button>
                                    <button onclick="startQuiz('t2', 'Manisnya Persaudaraan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Manisnya Persaudaraan</button>
                                    <button onclick="startQuiz('t2', 'Mengharap Keampunan Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Mengharap Keampunan Allah SWT</button>
                                    <button onclick="startQuiz('t2', 'Kesantunan Dakwah Rasulullah SAW')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Kesantunan Dakwah Rasulullah SAW</button>
                                    <button onclick="startQuiz('t2', 'Amanah Terhadap Harta Dan Nyawa')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Amanah Terhadap Harta Dan Nyawa</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-blue-700">Hadith</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t2', 'Mungkar Dicegah Hidup Berkat')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Mungkar Dicegah Hidup Berkat</button>
                                    <button onclick="startQuiz('t2', 'Mencari Yang Halal')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Mencari Yang Halal</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-gold-light to-gold p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-gold-dark">Aqidah</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t2', 'Kekuatan Dan Kekuasaan Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Kekuatan Dan Kekuasaan Allah SWT</button>
                                    <button onclick="startQuiz('t2', 'Ketaatan Malaikat')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Ketaatan Malaikat</button>
                                    <button onclick="startQuiz('t2', 'Panduan Daripada Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Panduan Daripada Allah SWT</button>
                                    <button onclick="startQuiz('t2', 'Solat Berjemaah Pengikat Hati')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Solat Berjemaah Pengikat Hati</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-red-100 to-red-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-red-700">Ibadah</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t2', 'Solat Jumaat Wadah Kesatuan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Solat Jumaat Wadah Kesatuan</button>
                                    <button onclick="startQuiz('t2', 'Tayamum Dengan Debu Suci')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Tayamum Dengan Debu Suci</button>
                                    <button onclick="startQuiz('t2', 'Rukhsah Anugerah Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Rukhsah Anugerah Allah SWT</button>
                                    <button onclick="startQuiz('t2', 'Puasa Benteng Diri')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Puasa Benteng Diri</button>
                                    <button onclick="startQuiz('t2', 'Solat Sunat Menampung Kefarduan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Solat Sunat Menampung Kefarduan</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-purple-700">Sirah</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t2', 'Terbitnya Fajar Dakwah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Terbitnya Fajar Dakwah</button>
                                    <button onclick="startQuiz('t2', 'Hijrah Detik Bersejarah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Hijrah Detik Bersejarah</button>
                                    <button onclick="startQuiz('t2', 'Kepimpinan Rasulullah SAW Di Madinah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Kepimpinan Rasulullah SAW Di Madinah</button>
                                    <button onclick="startQuiz('t2', 'Wanita Suri Teladan Umat')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Wanita Suri Teladan Umat</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-yellow-700">Akhlak</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t2', 'Malu Perisai Iman')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Malu Perisai Iman</button>
                                    <button onclick="startQuiz('t2', 'Menyemai Kasih Menuai Sayang')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Menyemai Kasih Menuai Sayang</button>
                                    <button onclick="startQuiz('t2', 'Muliakan Ibu Bapa Bahagiakan Keluarga')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Muliakan Ibu Bapa Bahagiakan Keluarga</button>
                                    <button onclick="startQuiz('t2', 'Santuni Jiranmu')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Santuni Jiranmu</button>
                                    <button onclick="startQuiz('t2', 'Masjid Destinasiku')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Masjid Destinasiku</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="t2-leaderboard" class="tab-content hidden">
                        <div class="bg-white rounded-lg shadow-md overflow-hidden">
                            <div class="bg-gradient-to-r from-red-500 to-red-600 p-4">
                                <h3 class="text-xl font-bold text-white">Leaderboard Tingkatan 2</h3>
                            </div>
                            <div class="p-4">
                                <p class="text-gray-600 text-center py-8">Leaderboard akan dipaparkan setelah ada pelajar yang menjawab kuiz.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- T3 Page (Similar structure) -->
            <div id="t3Page" class="page-content hidden">
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <h2 class="text-3xl font-bold text-yellow-600 mb-6">Nota Pendidikan Islam Tingkatan 3</h2>
                    
                    <div class="border-b border-gray-200 mb-6">
                        <nav class="-mb-px flex space-x-8">
                            <button onclick="showTab('t3', 'nota')" class="tab-btn active py-2 px-1 border-b-2 border-yellow-600 text-yellow-600 font-medium text-sm">
                                Nota
                            </button>
                            <button onclick="showTab('t3', 'kuiz')" class="tab-btn py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                                Kuiz
                            </button>
                            <button onclick="showTab('t3', 'leaderboard')" class="tab-btn py-2 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 font-medium text-sm">
                                Leaderboard
                            </button>
                        </nav>
                    </div>

                    <div id="t3-nota" class="tab-content">
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-green-700">al-Quran</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="openEmbed('Allah SWT Pengampun Segala Dosa', 'https://drive.google.com/file/d/sample1')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">1. Allah SWT Pengampun Segala Dosa</button>
                                    <button onclick="openEmbed('Al Quran Petunjuk Kebenaran', 'https://drive.google.com/file/d/sample2')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">2. Al Quran Petunjuk Kebenaran</button>
                                    <button onclick="openEmbed('Hukum Tajwid', 'https://drive.google.com/file/d/sample3')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">3. Hukum Tajwid</button>
                                    <button onclick="openEmbed('Pancaindera Yang Dimanfaatkan', 'https://drive.google.com/file/d/sample4')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">4. Pancaindera Yang Dimanfaatkan</button>
                                    <button onclick="openEmbed('Zikir Penenang Hati', 'https://drive.google.com/file/d/sample5')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">5. Zikir Penenang Hati</button>
                                    <button onclick="openEmbed('Generasi Unggul', 'https://drive.google.com/file/d/sample6')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">6. Generasi Unggul</button>
                                    <button onclick="openEmbed('Kewajipan Memelihara Kehormatan Diri', 'https://drive.google.com/file/d/sample7')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">7. Kewajipan Memelihara Kehormatan Diri</button>
                                    <button onclick="openEmbed('Penciptaan Manusia Bukti Kekuasaan Allah SWT', 'https://drive.google.com/file/d/sample8')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">8. Penciptaan Manusia Bukti Kekuasaan Allah SWT</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-blue-700">Hadith</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Sedekah Kunci Kebaikan', 'https://drive.google.com/file/d/sample9')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">9. Sedekah Kunci Kebaikan</button>
                                    <button onclick="openEmbed('Hindari Sifat Negatif', 'https://drive.google.com/file/d/sample10')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">10. Hindari Sifat Negatif</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-gold-light to-gold p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-gold-dark">Aqidah</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Allah SWT Maha Kaya Pengurnia Rezeki', 'https://drive.google.com/file/d/sample11')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">11. Allah SWT Maha Kaya Pengurnia Rezeki</button>
                                    <button onclick="openEmbed('Beriman Kepada Rasul', 'https://drive.google.com/file/d/sample12')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">12. Beriman Kepada Rasul</button>
                                    <button onclick="openEmbed('Beriman Kepada Hari Akhirat', 'https://drive.google.com/file/d/sample13')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">13. Beriman Kepada Hari Akhirat</button>
                                    <button onclick="openEmbed('Beriman Kepada Qadha Dan Qadar', 'https://drive.google.com/file/d/sample14')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">14. Beriman Kepada Qadha Dan Qadar</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-red-100 to-red-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-red-700">Ibadah</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="openEmbed('Konsep Fardhu Ain Dan Fardhu Kifayah', 'https://drive.google.com/file/d/sample15')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">15. Konsep Fardhu Ain Dan Fardhu Kifayah</button>
                                    <button onclick="openEmbed('Pengurusan Jenazah', 'https://drive.google.com/file/d/sample16')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">16. Pengurusan Jenazah</button>
                                    <button onclick="openEmbed('Zakat Penyuci Harta', 'https://drive.google.com/file/d/sample17')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">17. Zakat Penyuci Harta</button>
                                    <button onclick="openEmbed('Aidilfitri Dan Aidiladha', 'https://drive.google.com/file/d/sample18')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">18. Aidilfitri Dan Aidiladha</button>
                                    <button onclick="openEmbed('Qiamulail Pemangkin Kekuatan Jiwa', 'https://drive.google.com/file/d/sample19')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">19. Qiamulail Pemangkin Kekuatan Jiwa</button>
                                    <button onclick="openEmbed('Solat Sunat Tahiyatul Masjid Dan Solat Sunat Hajat', 'https://drive.google.com/file/d/sample20')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">20. Solat Sunat Tahiyatul Masjid Dan Solat Sunat Hajat</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-purple-700">Sirah</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Perjanjian Hudaibiyah Dan Pembukaan Kota Mekah', 'https://drive.google.com/file/d/sample21')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">21. Perjanjian Hudaibiyah Dan Pembukaan Kota Mekah</button>
                                    <button onclick="openEmbed('Tokoh Sahabat', 'https://drive.google.com/file/d/sample22')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">22. Tokoh Sahabat</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-yellow-700">Akhlak</h3>
                                <div class="space-y-2">
                                    <button onclick="openEmbed('Pemaaf Melunakkan Hati', 'https://drive.google.com/file/d/sample23')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">23. Pemaaf Melunakkan Hati</button>
                                    <button onclick="openEmbed('Qanaah Hiasan Peribadi', 'https://drive.google.com/file/d/sample24')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">24. Qanaah Hiasan Peribadi</button>
                                    <button onclick="openEmbed('Syukur Penyubur Iman', 'https://drive.google.com/file/d/sample25')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">25. Syukur Penyubur Iman</button>
                                    <button onclick="openEmbed('Adab Berkomunikasi', 'https://drive.google.com/file/d/sample26')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">26. Adab Berkomunikasi</button>
                                    <button onclick="openEmbed('Adab Bermusafir', 'https://drive.google.com/file/d/sample27')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">27. Adab Bermusafir</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="t3-kuiz" class="tab-content hidden">
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-br from-green-100 to-green-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-green-700">al-Quran</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="startQuiz('t3', 'Allah SWT Pengampun Segala Dosa')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Allah SWT Pengampun Segala Dosa</button>
                                    <button onclick="startQuiz('t3', 'Al Quran Petunjuk Kebenaran')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Al Quran Petunjuk Kebenaran</button>
                                    <button onclick="startQuiz('t3', 'Hukum Tajwid')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Hukum Tajwid</button>
                                    <button onclick="startQuiz('t3', 'Pancaindera Yang Dimanfaatkan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Pancaindera Yang Dimanfaatkan</button>
                                    <button onclick="startQuiz('t3', 'Zikir Penenang Hati')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Zikir Penenang Hati</button>
                                    <button onclick="startQuiz('t3', 'Generasi Unggul')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Generasi Unggul</button>
                                    <button onclick="startQuiz('t3', 'Kewajipan Memelihara Kehormatan Diri')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Kewajipan Memelihara Kehormatan Diri</button>
                                    <button onclick="startQuiz('t3', 'Penciptaan Manusia Bukti Kekuasaan Allah SWT')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Penciptaan Manusia Bukti Kekuasaan Allah SWT</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-blue-700">Hadith</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t3', 'Sedekah Kunci Kebaikan')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Sedekah Kunci Kebaikan</button>
                                    <button onclick="startQuiz('t3', 'Hindari Sifat Negatif')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Hindari Sifat Negatif</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-gold-light to-gold p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-gold-dark">Aqidah</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t3', 'Allah SWT Maha Kaya Pengurnia Rezeki')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Allah SWT Maha Kaya Pengurnia Rezeki</button>
                                    <button onclick="startQuiz('t3', 'Beriman Kepada Rasul')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Beriman Kepada Rasul</button>
                                    <button onclick="startQuiz('t3', 'Beriman Kepada Hari Akhirat')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Beriman Kepada Hari Akhirat</button>
                                    <button onclick="startQuiz('t3', 'Beriman Kepada Qadha Dan Qadar')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Beriman Kepada Qadha Dan Qadar</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-red-100 to-red-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-red-700">Ibadah</h3>
                                <div class="space-y-2 max-h-64 overflow-y-auto">
                                    <button onclick="startQuiz('t3', 'Konsep Fardhu Ain Dan Fardhu Kifayah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Konsep Fardhu Ain Dan Fardhu Kifayah</button>
                                    <button onclick="startQuiz('t3', 'Pengurusan Jenazah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Pengurusan Jenazah</button>
                                    <button onclick="startQuiz('t3', 'Zakat Penyuci Harta')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Zakat Penyuci Harta</button>
                                    <button onclick="startQuiz('t3', 'Aidilfitri Dan Aidiladha')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Aidilfitri Dan Aidiladha</button>
                                    <button onclick="startQuiz('t3', 'Qiamulail Pemangkin Kekuatan Jiwa')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Qiamulail Pemangkin Kekuatan Jiwa</button>
                                    <button onclick="startQuiz('t3', 'Solat Sunat Tahiyatul Masjid Dan Solat Sunat Hajat')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Solat Sunat Tahiyatul Masjid Dan Solat Sunat Hajat</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-purple-100 to-purple-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-purple-700">Sirah</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t3', 'Perjanjian Hudaibiyah Dan Pembukaan Kota Mekah')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Perjanjian Hudaibiyah Dan Pembukaan Kota Mekah</button>
                                    <button onclick="startQuiz('t3', 'Tokoh Sahabat')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Tokoh Sahabat</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-4 rounded-lg shadow-md">
                                <h3 class="font-bold text-lg mb-3 text-yellow-700">Akhlak</h3>
                                <div class="space-y-2">
                                    <button onclick="startQuiz('t3', 'Pemaaf Melunakkan Hati')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Pemaaf Melunakkan Hati</button>
                                    <button onclick="startQuiz('t3', 'Qanaah Hiasan Peribadi')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Qanaah Hiasan Peribadi</button>
                                    <button onclick="startQuiz('t3', 'Syukur Penyubur Iman')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Syukur Penyubur Iman</button>
                                    <button onclick="startQuiz('t3', 'Adab Berkomunikasi')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Adab Berkomunikasi</button>
                                    <button onclick="startQuiz('t3', 'Adab Bermusafir')" class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">Kuiz: Adab Bermusafir</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="t3-leaderboard" class="tab-content hidden">
                        <div class="bg-white rounded-lg shadow-md overflow-hidden">
                            <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 p-4">
                                <h3 class="text-xl font-bold text-white">Leaderboard Tingkatan 3</h3>
                            </div>
                            <div class="p-4">
                                <p class="text-gray-600 text-center py-8">Leaderboard akan dipaparkan setelah ada pelajar yang menjawab kuiz.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Embed Page -->
            <div id="embedPage" class="page-content hidden">
                <div class="bg-white rounded-lg shadow-xl overflow-hidden">
                    <div class="bg-gradient-to-r from-gold to-gold-dark p-4 flex items-center justify-between">
                        <h3 id="embedTitle" class="text-xl font-bold text-white">Nota</h3>
                        <button onclick="goBackToPreviousPage()" class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-lg transition-colors">
                            â† Kembali
                        </button>
                    </div>
                    <div class="embed-container">
                        <iframe id="embedFrame" src="" frameborder="0" allowfullscreen></iframe>
                    </div>
                </div>
            </div>

            <!-- Quiz Page -->
            <div id="quizPage" class="page-content hidden">
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 id="quizTitle" class="text-2xl font-bold text-gold">Kuiz</h3>
                        <button onclick="goBackToPreviousPage()" class="bg-gold hover:bg-gold-dark text-white px-4 py-2 rounded-lg transition-colors">
                            â† Kembali
                        </button>
                    </div>
                    
                    <div id="quizContent" class="space-y-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-lg font-semibold mb-4">Soalan 1: Apakah rukun iman yang pertama?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="a" class="mr-2">
                                    <span>Beriman kepada Allah</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="b" class="mr-2">
                                    <span>Beriman kepada Malaikat</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="c" class="mr-2">
                                    <span>Beriman kepada Kitab</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <p class="text-lg font-semibold mb-4">Soalan 2: Berapa bilangan rukun Islam?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="a" class="mr-2">
                                    <span>4</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="b" class="mr-2">
                                    <span>5</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="c" class="mr-2">
                                    <span>6</span>
                                </label>
                            </div>
                        </div>
                        
                        <button onclick="submitQuiz()" class="w-full bg-gold hover:bg-gold-dark text-white font-bold py-3 px-6 rounded-lg transition-colors">
                            Hantar Jawapan
                        </button>
                    </div>
                </div>
            </div>

            <!-- About Page -->
            <div id="aboutPage" class="page-content hidden">
                <div class="bg-white rounded-lg shadow-xl p-6">
                    <h2 class="text-3xl font-bold text-gold mb-6">Tentang Kami</h2>
                    
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="text-center">
                            <div class="w-32 h-32 rounded-full mx-auto mb-4 overflow-hidden bg-gray-200">
                                <img src="https://lh3.googleusercontent.com/d/1-VhGUFMv0XAFNQ_I0_slos7RmaWQRGSD" alt="Mohammad Saiful bin Abdul Samat" class="w-full h-full object-cover object-top" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'w-full h-full bg-gradient-to-br from-gold to-gold-dark flex items-center justify-center\'><span class=\'text-4xl text-white\'>ðŸ‘¨â€ðŸ’»</span></div>';">
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Mohammad Saiful bin Abdul Samat</h3>
                            <p class="text-gray-600 mb-4">Guru Pendidikan Islam SMKKS</p>
                            <div class="bg-gray-50 p-4 rounded-lg text-left">
                                <h4 class="font-semibold mb-2">Biodata:</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ Pengalaman: 6 tahun mengajar Pendidikan Islam</li>
                                    <li>â€¢ Pendidikan: Sarjana Muda Pendidikan (Pengajian Islam) Universiti Malaya, Sarjana Pendidikan Islam Universiti Kebangsaan Malaysia</li>
                                    <li>â€¢ Email: g-67503298@moe-dl.edu.my</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="text-center">
                            <div class="w-32 h-32 bg-gradient-to-br from-red-500 to-red-600 rounded-full mx-auto mb-4 flex items-center justify-center">
                                <span class="text-4xl text-white">ðŸ‘©â€ðŸ«</span>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">Siti Educator</h3>
                            <p class="text-gray-600 mb-4">Content Creator & Education Specialist</p>
                            <div class="bg-gray-50 p-4 rounded-lg text-left">
                                <h4 class="font-semibold mb-2">Biodata:</h4>
                                <ul class="text-sm text-gray-600 space-y-1">
                                    <li>â€¢ Pengalaman: 8 tahun mengajar Pendidikan Islam</li>
                                    <li>â€¢ Kepakaran: Kurikulum KSSM, Pedagogi</li>
                                    <li>â€¢ Pendidikan: Ijazah Pendidikan Islam</li>
                                    <li>â€¢ Email: siti@notapi.com</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 bg-gradient-to-r from-gold-light to-gold p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-gold-dark mb-4">Misi Kami</h3>
                        <p class="text-gray-700">
                            Kami berkomitmen untuk menyediakan platform pembelajaran Pendidikan Islam yang interaktif, 
                            mudah digunakan, dan berkesan untuk pelajar Tingkatan 1, 2, dan 3. Matlamat kami adalah 
                            membantu pelajar memahami dan menghayati ajaran Islam dengan lebih mendalam melalui 
                            teknologi moden.
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Success Popup -->
    <div id="successPopup" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-md mx-4">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">Pendaftaran Berjaya!</h3>
                <p class="text-gray-600 mb-4">Akaun anda telah berjaya didaftarkan. Sila simpan maklumat login anda atau ambil screenshot halaman ini.</p>
                <div class="bg-gray-50 p-4 rounded-lg mb-4 text-left">
                    <p class="text-sm"><strong>Username:</strong> <span id="popupUsername"></span></p>
                    <p class="text-sm"><strong>Password:</strong> <span id="popupPassword"></span></p>
                </div>
                <button onclick="closeSuccessPopup()" class="bg-gold hover:bg-gold-dark text-white px-6 py-2 rounded-lg transition-colors">
                    Tutup
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let currentPage = 'home';
        let previousPage = 'home';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            checkLoginStatus();
            setupEventListeners();
            
            // Test Google Sheets connection on startup
            testGoogleSheetsConnection().then(success => {
                if (success) {
                    // Pre-load data for faster access
                    fetchNotaLinks();
                }
            });
        });

        function setupEventListeners() {
            document.getElementById('openSidebar').addEventListener('click', () => {
                document.getElementById('sidebar').classList.remove('-translate-x-full');
            });

            document.getElementById('closeSidebar').addEventListener('click', () => {
                document.getElementById('sidebar').classList.add('-translate-x-full');
            });

            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', (e) => {
                const sidebar = document.getElementById('sidebar');
                const openBtn = document.getElementById('openSidebar');
                
                if (window.innerWidth < 1024 && 
                    !sidebar.contains(e.target) && 
                    !openBtn.contains(e.target) && 
                    !sidebar.classList.contains('-translate-x-full')) {
                    sidebar.classList.add('-translate-x-full');
                }
            });
        }

        function checkLoginStatus() {
            const user = localStorage.getItem('currentUser');
            if (user) {
                currentUser = JSON.parse(user);
                updateUIForLoggedInUser();
            } else {
                updateUIForGuest();
            }
        }

        function updateUIForLoggedInUser() {
            document.getElementById('userInfo').classList.remove('hidden');
            document.getElementById('currentUser').textContent = currentUser.username;
            document.getElementById('loginBtn').classList.add('hidden');
            document.getElementById('logoutBtn').classList.remove('hidden');
            document.getElementById('guestWarning').style.display = 'none';
        }

        function updateUIForGuest() {
            document.getElementById('userInfo').classList.add('hidden');
            document.getElementById('loginBtn').classList.remove('hidden');
            document.getElementById('logoutBtn').classList.add('hidden');
            if (currentPage === 'home') {
                document.getElementById('guestWarning').style.display = 'block';
            }
        }

        function showPage(pageId) {
            // Track previous page (but don't track embed or quiz as previous pages)
            if (currentPage !== 'embed' && currentPage !== 'quiz') {
                previousPage = currentPage;
            }
            
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });

            // Show selected page
            const targetPage = document.getElementById(pageId + 'Page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
                targetPage.classList.add('fade-in');
            }

            // Update page title
            const titles = {
                'home': 'Halaman Utama',
                'login': 'Login / Register',
                't1': 'Nota Tingkatan 1',
                't2': 'Nota Tingkatan 2',
                't3': 'Nota Tingkatan 3',
                'about': 'Tentang Kami',
                'embed': 'Nota',
                'quiz': 'Kuiz'
            };
            document.getElementById('pageTitle').textContent = titles[pageId] || 'Halaman Utama';
            currentPage = pageId;

            // Update active menu highlighting
            updateActiveMenu(pageId);

            // Close sidebar on mobile
            if (window.innerWidth < 1024) {
                document.getElementById('sidebar').classList.add('-translate-x-full');
            }

            // Update guest warning visibility
            if (pageId === 'home' && !currentUser) {
                document.getElementById('guestWarning').style.display = 'block';
            } else {
                document.getElementById('guestWarning').style.display = 'none';
            }
        }

        function updateActiveMenu(activePageId) {
            // Remove active class from all nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('bg-gold-dark', 'bg-white', 'bg-opacity-20', 'font-bold');
                link.classList.add('hover:bg-gold-dark');
            });

            // Add active class to current page link
            const pageToLinkMap = {
                'home': 'a[onclick="showPage(\'home\')"]',
                't1': 'a[onclick="showPage(\'t1\')"]',
                't2': 'a[onclick="showPage(\'t2\')"]',
                't3': 'a[onclick="showPage(\'t3\')"]',
                'about': 'a[onclick="showPage(\'about\')"]',
                'login': 'a[onclick="showPage(\'login\')"]'
            };

            const activeLink = document.querySelector(pageToLinkMap[activePageId]);
            if (activeLink) {
                activeLink.classList.remove('hover:bg-gold-dark');
                activeLink.classList.add('bg-white', 'bg-opacity-20', 'font-bold');
            }
        }

        function showTab(tingkatan, tabName) {
            // Hide all tab contents for this tingkatan
            document.querySelectorAll(`#${tingkatan}Page .tab-content`).forEach(content => {
                content.classList.add('hidden');
            });

            // Show selected tab content
            document.getElementById(`${tingkatan}-${tabName}`).classList.remove('hidden');

            // Update tab buttons
            document.querySelectorAll(`#${tingkatan}Page .tab-btn`).forEach(btn => {
                btn.classList.remove('active', 'border-gold', 'border-red-600', 'border-yellow-600', 'text-gold', 'text-red-600', 'text-yellow-600');
                btn.classList.add('border-transparent', 'text-gray-500');
            });

            // Activate clicked tab
            event.target.classList.remove('border-transparent', 'text-gray-500');
            event.target.classList.add('active');
            
            if (tingkatan === 't1') {
                event.target.classList.add('border-gold', 'text-gold');
            } else if (tingkatan === 't2') {
                event.target.classList.add('border-red-600', 'text-red-600');
            } else if (tingkatan === 't3') {
                event.target.classList.add('border-yellow-600', 'text-yellow-600');
            }
        }

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
            input.setAttribute('type', type);
        }

        function showLoginForm() {
            document.getElementById('loginForm').classList.remove('hidden');
            document.getElementById('registerForm').classList.add('hidden');
        }

        function showRegisterForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;

            // Simple validation (in real app, this would be handled by Firebase)
            const users = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
            const user = users.find(u => u.username === username && u.password === password);

            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                updateUIForLoggedInUser();
                showPage('home');
                alert('Login berjaya!');
            } else {
                alert('Username atau password tidak betul!');
            }
        }

        function handleRegister(event) {
            event.preventDefault();
            
            const username = document.getElementById('regUsername').value;
            const email = document.getElementById('regEmail').value;
            const sekolah = document.getElementById('regSekolah').value;
            const tingkatan = document.getElementById('regTingkatan').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;

            if (password !== confirmPassword) {
                alert('Password tidak sepadan!');
                return;
            }

            // Check if username already exists
            const users = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
            if (users.find(u => u.username === username)) {
                alert('Username sudah wujud!');
                return;
            }

            // Register user
            const newUser = {
                username,
                email,
                sekolah,
                tingkatan,
                password,
                registeredAt: new Date().toISOString()
            };

            users.push(newUser);
            localStorage.setItem('registeredUsers', JSON.stringify(users));

            // Show success popup
            document.getElementById('popupUsername').textContent = username;
            document.getElementById('popupPassword').textContent = password;
            document.getElementById('successPopup').classList.remove('hidden');
            document.getElementById('successPopup').classList.add('flex');
        }

        function closeSuccessPopup() {
            document.getElementById('successPopup').classList.add('hidden');
            document.getElementById('successPopup').classList.remove('flex');
            showLoginForm();
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUIForGuest();
            showPage('home');
            alert('Anda telah log keluar.');
        }

        // Google Apps Script configuration
        const APPS_SCRIPT_CONFIG = {
            // URL Google Apps Script Web App anda
            WEB_APP_URL: 'https://script.google.com/macros/s/AKfycbwDo2YwpVc3rJPvwRV2-updM86jL8fl_WLcwWMOkSmcZibG3PnTnBzvXnuEnh8gPZkQGw/exec',
            // Google Sheet ID dari URL yang anda berikan
            SHEET_ID: '1rh8-9g7hifZzo6YVsGPyv7FfNDSp6VZvXGm9qMOdxsY'
        };

        // Cache untuk menyimpan data dari Google Sheets
        let notaLinksCache = null;

        // Function to test Google Apps Script connection
        async function testGoogleSheetsConnection() {
            try {
                const response = await fetch(APPS_SCRIPT_CONFIG.WEB_APP_URL + '?action=test');
                const data = await response.json();
                
                if (data.error) {
                    console.error('Google Apps Script Error:', data.error);
                    return false;
                }
                
                if (data.success) {
                    console.log('âœ… Google Apps Script connection successful!');
                    console.log('ðŸ“Š Data found:', data.totalRows, 'rows');
                    return true;
                } else {
                    console.warn('âš ï¸ Google Apps Script connected but no data found');
                    return false;
                }
            } catch (error) {
                console.error('âŒ Google Apps Script connection failed:', error);
                return false;
            }
        }

        // Function to fetch data from Google Sheets via Apps Script
        async function fetchNotaLinks() {
            if (notaLinksCache) {
                return notaLinksCache;
            }

            try {
                const response = await fetch(APPS_SCRIPT_CONFIG.WEB_APP_URL + '?action=getNotes');
                const data = await response.json();
                
                if (data.error) {
                    console.error('Google Apps Script Error:', data.error);
                    throw new Error(data.error);
                }
                
                if (data.success && data.notes) {
                    // Convert array data to object for easier lookup
                    const links = {};
                    data.notes.forEach(note => {
                        const key = `${note.tingkatan}-${note.tajuk}`;
                        links[key] = note;
                    });
                    notaLinksCache = links;
                    console.log('âœ… Successfully loaded', Object.keys(links).length, 'nota links from Google Apps Script');
                    return links;
                } else {
                    console.warn('âš ï¸ No data found in Google Apps Script response');
                    throw new Error('No data found');
                }
            } catch (error) {
                console.error('âŒ Error fetching data from Google Apps Script:', error);
                // Fallback to sample data if Apps Script fails
                return getSampleNotaLinks();
            }
        }

        // Sample data structure (fallback)
        function getSampleNotaLinks() {
            return {
                'T1-Mukmin Yang Bertakwa': {
                    tingkatan: 'T1',
                    kategori: 'al-Quran',
                    tajuk: 'Mukmin Yang Bertakwa',
                    link: 'https://drive.google.com/file/d/1ABC123/view'
                },
                'T1-Memohon Kebahagiaan Hakiki': {
                    tingkatan: 'T1',
                    kategori: 'al-Quran',
                    tajuk: 'Memohon Kebahagiaan Hakiki',
                    link: 'https://drive.google.com/file/d/1DEF456/view'
                }
                // Add more sample data as needed
            };
        }

        async function openEmbed(title, fallbackUrl) {
            if (!currentUser) {
                alert('Sila login untuk mengakses nota.');
                showPage('login');
                return;
            }

            document.getElementById('embedTitle').textContent = title;
            
            // Try to get link from Google Sheets
            const notaLinks = await fetchNotaLinks();
            let embedUrl = fallbackUrl;
            
            // Look for the link in Google Sheets data
            const currentTingkatan = getCurrentTingkatan();
            const key = `${currentTingkatan}-${title}`;
            
            if (notaLinks[key] && notaLinks[key].link) {
                embedUrl = notaLinks[key].link;
            }
            
            // Convert Google link to proper embed format
            if (embedUrl.includes('lh3.googleusercontent.com/d/')) {
                // Already in correct format for images
                document.getElementById('embedFrame').src = embedUrl;
            } else if (embedUrl.includes('drive.google.com')) {
                // Convert Google Drive link to embed format
                embedUrl = embedUrl.replace('/file/d/', '/file/d/').replace('/view', '/preview');
                document.getElementById('embedFrame').src = embedUrl;
            } else {
                document.getElementById('embedFrame').src = embedUrl;
            }
            
            showPage('embed');
        }

        function getCurrentTingkatan() {
            if (currentPage === 't1') return 'T1';
            if (currentPage === 't2') return 'T2';
            if (currentPage === 't3') return 'T3';
            return 'T1';
        }

        function goBackToPreviousPage() {
            showPage(previousPage);
        }

        function startQuiz(tingkatan, topic) {
            if (!currentUser) {
                alert('Sila login untuk mengakses kuiz.');
                showPage('login');
                return;
            }

            document.getElementById('quizTitle').textContent = `Kuiz ${topic} - Tingkatan ${tingkatan.toUpperCase()}`;
            showPage('quiz');
        }

        function submitQuiz() {
            const q1 = document.querySelector('input[name="q1"]:checked');
            const q2 = document.querySelector('input[name="q2"]:checked');

            if (!q1 || !q2) {
                alert('Sila jawab semua soalan!');
                return;
            }

            // Calculate score (simple example)
            let score = 0;
            if (q1.value === 'a') score += 50;
            if (q2.value === 'b') score += 50;

            alert(`Kuiz selesai! Markah anda: ${score}/100`);
            
            // In real app, this would sync with Google Sheets
            showPage('home');
        }

        // Function to load and display notes dynamically from Google Sheets
        async function loadNotesForTingkatan(tingkatan) {
            const notaLinks = await fetchNotaLinks();
            const notaContainer = document.getElementById(`${tingkatan.toLowerCase()}-nota`);
            
            if (!notaContainer) return;
            
            // Filter notes for this tingkatan and sort by order
            const tingkatanNotes = Object.values(notaLinks)
                .filter(note => note.tingkatan === tingkatan.toUpperCase())
                .sort((a, b) => {
                    // Extract number from title for sorting (e.g., "1. Title" -> 1)
                    const aNum = parseInt(a.tajuk.match(/^\d+/)?.[0] || '999');
                    const bNum = parseInt(b.tajuk.match(/^\d+/)?.[0] || '999');
                    return aNum - bNum;
                });
            
            if (tingkatanNotes.length === 0) {
                // Keep existing static content if no data from Google Sheets
                return;
            }
            
            // Group notes by category
            const categories = {};
            tingkatanNotes.forEach(note => {
                if (!categories[note.kategori]) {
                    categories[note.kategori] = [];
                }
                categories[note.kategori].push(note);
            });
            
            // Generate HTML for categories
            let html = '<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">';
            
            const categoryColors = {
                'al-Quran': 'from-green-100 to-green-200 text-green-700',
                'Hadith': 'from-blue-100 to-blue-200 text-blue-700',
                'Aqidah': 'from-gold-light to-gold text-gold-dark',
                'Ibadah': 'from-red-100 to-red-200 text-red-700',
                'Sirah': 'from-purple-100 to-purple-200 text-purple-700',
                'Akhlak': 'from-yellow-100 to-yellow-200 text-yellow-700'
            };
            
            Object.keys(categories).forEach(category => {
                const colorClass = categoryColors[category] || 'from-gray-100 to-gray-200 text-gray-700';
                
                html += `
                    <div class="bg-gradient-to-br ${colorClass} p-4 rounded-lg shadow-md">
                        <h3 class="font-bold text-lg mb-3">${category}</h3>
                        <div class="space-y-2 max-h-64 overflow-y-auto">
                `;
                
                categories[category].forEach(note => {
                    html += `
                        <button onclick="openEmbed('${note.tajuk}', '${note.link}')" 
                                class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">
                            ${note.tajuk}
                        </button>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            // Replace the content
            notaContainer.innerHTML = html;
        }
        
        // Function to load quiz buttons dynamically
        async function loadQuizForTingkatan(tingkatan) {
            const notaLinks = await fetchNotaLinks();
            const kuizContainer = document.getElementById(`${tingkatan.toLowerCase()}-kuiz`);
            
            if (!kuizContainer) return;
            
            // Filter notes for this tingkatan and sort by order
            const tingkatanNotes = Object.values(notaLinks)
                .filter(note => note.tingkatan === tingkatan.toUpperCase())
                .sort((a, b) => {
                    const aNum = parseInt(a.tajuk.match(/^\d+/)?.[0] || '999');
                    const bNum = parseInt(b.tajuk.match(/^\d+/)?.[0] || '999');
                    return aNum - bNum;
                });
            
            if (tingkatanNotes.length === 0) {
                return;
            }
            
            // Group notes by category
            const categories = {};
            tingkatanNotes.forEach(note => {
                if (!categories[note.kategori]) {
                    categories[note.kategori] = [];
                }
                categories[note.kategori].push(note);
            });
            
            // Generate HTML for quiz categories
            let html = '<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">';
            
            const categoryColors = {
                'al-Quran': 'from-green-100 to-green-200 text-green-700',
                'Hadith': 'from-blue-100 to-blue-200 text-blue-700',
                'Aqidah': 'from-gold-light to-gold text-gold-dark',
                'Ibadah': 'from-red-100 to-red-200 text-red-700',
                'Sirah': 'from-purple-100 to-purple-200 text-purple-700',
                'Akhlak': 'from-yellow-100 to-yellow-200 text-yellow-700'
            };
            
            Object.keys(categories).forEach(category => {
                const colorClass = categoryColors[category] || 'from-gray-100 to-gray-200 text-gray-700';
                
                html += `
                    <div class="bg-gradient-to-br ${colorClass} p-4 rounded-lg shadow-md">
                        <h3 class="font-bold text-lg mb-3">${category}</h3>
                        <div class="space-y-2 max-h-64 overflow-y-auto">
                `;
                
                categories[category].forEach(note => {
                    html += `
                        <button onclick="startQuiz('${tingkatan.toLowerCase()}', '${note.tajuk}')" 
                                class="block w-full text-left p-2 bg-white rounded hover:bg-gray-50 transition-colors text-sm">
                            Kuiz: ${note.tajuk}
                        </button>
                    `;
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            
            // Replace the content
            kuizContainer.innerHTML = html;
        }

        // Initialize with home page
        showPage('home');
        
        // Initialize active menu highlighting
        updateActiveMenu('home');
        
        // Load dynamic content when Google Sheets data is available
        fetchNotaLinks().then(() => {
            loadNotesForTingkatan('T1');
            loadNotesForTingkatan('T2');
            loadNotesForTingkatan('T3');
            loadQuizForTingkatan('T1');
            loadQuizForTingkatan('T2');
            loadQuizForTingkatan('T3');
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9860dcda703f97fa',t:'MTc1OTAzNzU3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
